<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>src.TokenLab.simulationcomponents.usergrowthclasses API documentation</title>
<meta name="description" content="Created on Fri Nov 18 12:18:42 2022 …" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>src.TokenLab.simulationcomponents.usergrowthclasses</code></h1>
</header>
<section id="section-intro">
<p>Created on Fri Nov 18 12:18:42 2022</p>
<p>@author: stylianoskampakis</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">#!/usr/bin/env python3
# -*- coding: utf-8 -*-
&#34;&#34;&#34;
Created on Fri Nov 18 12:18:42 2022

@author: stylianoskampakis
&#34;&#34;&#34;

from typing import List, Dict,Union
from baseclasses import *
from utils.helpers import log_saturated_space
import copy
import scipy
import warnings
import time


class UserGrowth(Controller):
    &#34;&#34;&#34;
    Base class that models user growth. Dependencies include AgentPool and TokenEconomy.
    &#34;&#34;&#34;
    
    def __init__(self):
        super(UserGrowth,self).__init__()
        self.num_users=0
        
        #conditional dependence, it is used only in conditions
        self.dependencies={AgentPool:None,TokenEconomy:None}
        
        return None
    
    
    def execute(self)-&gt;int:
        self.iteration = self.iteration + 1
        
        if hasattr(self,&#39;_num_users_store&#39;):
            #this is only for precomputed user populations, like UserGrowth_Spaced
            self.num_users=self._num_users_store[self.iteration-1]
        return self.num_users
    
    
    def get_num_users(self)-&gt;int:
        
        return self.num_users
    
    def reset(self)-&gt;None:
        &#34;&#34;&#34;
        Resets the iteration counter to 0.

        &#34;&#34;&#34;
        self.iteration=0
    
    
    
class UserGrowth_Spaced(UserGrowth):
    
    &#34;&#34;&#34;
    Creates the number of users (for a predetermined number of iterations)
    using a function that is spacing out users between min and max. Options include:
    
    linearspace, logspace, geomspace
    
    The class pre-calculates all users internally and stores them in _num_users_store.
    
    When executed it simply returns the users at the current iteration of its lifecycle.
    
    &#34;&#34;&#34;
    
    
    def __init__(self,initial_users:int,max_users:int,num_steps:int,
                 space_function:Union[np.linspace,np.logspace,np.geomspace,log_saturated_space],name:str=None,
                 noise_addon:AddOn=None,use_difference:bool=False)-&gt;None:
        &#34;&#34;&#34;
        use_difference: If True, it will calculate and return the difference between time steps. Essentially, the user 
        base will grow according to the difference between the steps in the sequence.
        
        Otherwise, it returns the actual value.
        
        For example:
            initial_users=100
            growth=[100,120,150,200]
            final=[100,120,150,200]
            
            with difference:
                final=[100,0,20,30,50]
            
        &#34;&#34;&#34;
        super(UserGrowth_Spaced,self).__init__()

                
        self._initial_users=initial_users
        self.max_users=max_users
        self.num_steps=num_steps
        self.space_function=space_function
        self._noise_component=noise_addon
        
        self.name=name
        
        self._num_users_store_original=np.round(self.space_function(start=self._initial_users,
                                                                    stop=self.max_users,num=num_steps)).astype(int)
        #applies the noise addon. If a value is below 0, then it is kept at 0.
        if self._noise_component!=None:
            dummy=[]
            for i in range(len(self._num_users_store)):
                temporary= self._num_users_store_original[i]+ self._noise_component.apply(**{&#39;value&#39;:self._num_users_store_original[i]})
                if temporary&gt;=0:
                    dummy.append(temporary)
                else:
                    dummy.append(self._num_users_store_original[i])
        
            self._num_users_store=dummy
        #self.num_users=self._initial_users
        
        if use_difference:
            self._num_users_store_original=[self._initial_users]+np.diff(self._num_users_store_original).tolist()
        
        self._num_users_store=copy.deepcopy(self._num_users_store_original)

        
        self.max_iterations=num_steps
    
    def execute(self)-&gt;int:
        
        users=super(UserGrowth_Spaced,self).execute()
        
        return users
    
    
    def reset(self)-&gt;None:
        &#34;&#34;&#34;
        recalculates the noise component and sets the user counter back to 0
        &#34;&#34;&#34;
        
        self._num_users_store=copy.deepcopy(self._num_users_store_original)
        
        #applies the noise addon. If a value is below 0, then it is kept at 0.
        if self._noise_component!=None:
            dummy=[]
            for i in range(len(self._num_users_store)):
                temporary= self._num_users_store_original[i]+ self._noise_component.apply(**{&#39;value&#39;:self._num_users_store_original[i]})
                if temporary&gt;=0:
                    dummy.append(temporary)
                else:
                    dummy.append(self._num_users_store_original[i])
        
            self._num_users_store=dummy
            
        self.iteration=0
        self.num_users=self._initial_users
        
        
    def get_users_store(self)-&gt;List:
        &#34;&#34;&#34;
        Returns the list that contains the pre-calculated number of users. This is a
        private variable.

        &#34;&#34;&#34;
        
        return self._num_users_store
    
    
    
        
class UserGrowth_Constant(UserGrowth):
    &#34;&#34;&#34;
    Simplest type of usergrowth class. The user growth simply stays constant.
    &#34;&#34;&#34;
    
    def __init__(self,constant:int):
        &#34;&#34;&#34;
        
        Parameters
        ----------
        constant : int
            The total number of users.

        &#34;&#34;&#34;
        
        super(UserGrowth_Constant,self).__init__()
        self.num_users=constant        
    
    
      
class UserGrowth_Stochastic(UserGrowth):
    &#34;&#34;&#34;
    UserGrowth that simply samples a random value during each iteration.
    
    &#34;&#34;&#34;
    
    
    def __init__(self,user_growth_distribution:scipy.stats=scipy.stats.poisson,
                 user_growth_dist_parameters:Union[List,Dict]=[{&#39;mu&#39;:1000}],add_to_userbase:bool=False,
                 num_initial_users:int=0):
        &#34;&#34;&#34;
        

        Parameters
        ----------
        user_growth_distribution : scipy.stats, optional
            The distribution to sample values from. The default is scipy.stats.poisson.
        
        user_growth_dist_parameters : Union[List,Dict], optional
            Either a list of dictionaries, or a dictionary. If a list is provided
            then the parameters change at every iteration. The default is [{&#39;mu&#39;:1000}].
        
        add_to_user_base : bool, optional 
        If False, then the actual number of users is sampled from the distribution. If True,
        then this number of users is added to the total number of users. Default is false.
        
        num_initial_users : int, optional
        The number of initial users. Default is 0
        &#34;&#34;&#34;
        
        super(UserGrowth_Stochastic,self).__init__()

        
        self.user_growth_distribution=user_growth_distribution
        self.user_growth_dist_parameters=user_growth_dist_parameters
        self.num_users=num_initial_users
        self.add_to_userbase=add_to_userbase
        
        
        return None
    
    def execute(self):
        seed=int(int(time.time())*np.random.rand())
        if type(self.user_growth_dist_parameters)==list:
            try:
                params=self.user_growth_dist_parameters[self.iteration]
            except:
                warnings.warn(&#34;Iterations for UserGrowth stochastic exhausted. Simply using the last item on the list of parameters.&#34;)
                params=self.user_growth_dist_parameters[-1]
        else:
            params=self.user_growth_dist_parameters
            
        self._active_params=params
        value=self.user_growth_distribution.rvs(size=1,random_state=seed,**params)[0]
        
        if self.add_to_userbase:
            self.num_users+=value
        else:
            self.num_users=value
        
        self.iteration+=1
        return self.num_users
    
    </code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth"><code class="flex name class">
<span>class <span class="ident">UserGrowth</span></span>
</code></dt>
<dd>
<div class="desc"><p>Base class that models user growth. Dependencies include AgentPool and TokenEconomy.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class UserGrowth(Controller):
    &#34;&#34;&#34;
    Base class that models user growth. Dependencies include AgentPool and TokenEconomy.
    &#34;&#34;&#34;
    
    def __init__(self):
        super(UserGrowth,self).__init__()
        self.num_users=0
        
        #conditional dependence, it is used only in conditions
        self.dependencies={AgentPool:None,TokenEconomy:None}
        
        return None
    
    
    def execute(self)-&gt;int:
        self.iteration = self.iteration + 1
        
        if hasattr(self,&#39;_num_users_store&#39;):
            #this is only for precomputed user populations, like UserGrowth_Spaced
            self.num_users=self._num_users_store[self.iteration-1]
        return self.num_users
    
    
    def get_num_users(self)-&gt;int:
        
        return self.num_users
    
    def reset(self)-&gt;None:
        &#34;&#34;&#34;
        Resets the iteration counter to 0.

        &#34;&#34;&#34;
        self.iteration=0</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>baseclasses.Controller</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Constant" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Constant">UserGrowth_Constant</a></li>
<li><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Spaced" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Spaced">UserGrowth_Spaced</a></li>
<li><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Stochastic" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Stochastic">UserGrowth_Stochastic</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth.execute"><code class="name flex">
<span>def <span class="ident">execute</span></span>(<span>self) ‑> int</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def execute(self)-&gt;int:
    self.iteration = self.iteration + 1
    
    if hasattr(self,&#39;_num_users_store&#39;):
        #this is only for precomputed user populations, like UserGrowth_Spaced
        self.num_users=self._num_users_store[self.iteration-1]
    return self.num_users</code></pre>
</details>
</dd>
<dt id="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth.get_num_users"><code class="name flex">
<span>def <span class="ident">get_num_users</span></span>(<span>self) ‑> int</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_num_users(self)-&gt;int:
    
    return self.num_users</code></pre>
</details>
</dd>
<dt id="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth.reset"><code class="name flex">
<span>def <span class="ident">reset</span></span>(<span>self) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Resets the iteration counter to 0.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def reset(self)-&gt;None:
    &#34;&#34;&#34;
    Resets the iteration counter to 0.

    &#34;&#34;&#34;
    self.iteration=0</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Constant"><code class="flex name class">
<span>class <span class="ident">UserGrowth_Constant</span></span>
<span>(</span><span>constant: int)</span>
</code></dt>
<dd>
<div class="desc"><p>Simplest type of usergrowth class. The user growth simply stays constant.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>constant</code></strong> :&ensp;<code>int</code></dt>
<dd>The total number of users.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class UserGrowth_Constant(UserGrowth):
    &#34;&#34;&#34;
    Simplest type of usergrowth class. The user growth simply stays constant.
    &#34;&#34;&#34;
    
    def __init__(self,constant:int):
        &#34;&#34;&#34;
        
        Parameters
        ----------
        constant : int
            The total number of users.

        &#34;&#34;&#34;
        
        super(UserGrowth_Constant,self).__init__()
        self.num_users=constant        </code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth">UserGrowth</a></li>
<li>baseclasses.Controller</li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth">UserGrowth</a></b></code>:
<ul class="hlist">
<li><code><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth.reset" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth.reset">reset</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Spaced"><code class="flex name class">
<span>class <span class="ident">UserGrowth_Spaced</span></span>
<span>(</span><span>initial_users: int, max_users: int, num_steps: int, space_function: Union[linspace, logspace, geomspace, log_saturated_space], name: str = None, noise_addon: baseclasses.AddOn = None, use_difference: bool = False)</span>
</code></dt>
<dd>
<div class="desc"><p>Creates the number of users (for a predetermined number of iterations)
using a function that is spacing out users between min and max. Options include:</p>
<p>linearspace, logspace, geomspace</p>
<p>The class pre-calculates all users internally and stores them in _num_users_store.</p>
<p>When executed it simply returns the users at the current iteration of its lifecycle.</p>
<p>use_difference: If True, it will calculate and return the difference between time steps. Essentially, the user
base will grow according to the difference between the steps in the sequence.</p>
<p>Otherwise, it returns the actual value.</p>
<p>For example:
initial_users=100
growth=[100,120,150,200]
final=[100,120,150,200]</p>
<pre><code>with difference:
    final=[100,0,20,30,50]
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class UserGrowth_Spaced(UserGrowth):
    
    &#34;&#34;&#34;
    Creates the number of users (for a predetermined number of iterations)
    using a function that is spacing out users between min and max. Options include:
    
    linearspace, logspace, geomspace
    
    The class pre-calculates all users internally and stores them in _num_users_store.
    
    When executed it simply returns the users at the current iteration of its lifecycle.
    
    &#34;&#34;&#34;
    
    
    def __init__(self,initial_users:int,max_users:int,num_steps:int,
                 space_function:Union[np.linspace,np.logspace,np.geomspace,log_saturated_space],name:str=None,
                 noise_addon:AddOn=None,use_difference:bool=False)-&gt;None:
        &#34;&#34;&#34;
        use_difference: If True, it will calculate and return the difference between time steps. Essentially, the user 
        base will grow according to the difference between the steps in the sequence.
        
        Otherwise, it returns the actual value.
        
        For example:
            initial_users=100
            growth=[100,120,150,200]
            final=[100,120,150,200]
            
            with difference:
                final=[100,0,20,30,50]
            
        &#34;&#34;&#34;
        super(UserGrowth_Spaced,self).__init__()

                
        self._initial_users=initial_users
        self.max_users=max_users
        self.num_steps=num_steps
        self.space_function=space_function
        self._noise_component=noise_addon
        
        self.name=name
        
        self._num_users_store_original=np.round(self.space_function(start=self._initial_users,
                                                                    stop=self.max_users,num=num_steps)).astype(int)
        #applies the noise addon. If a value is below 0, then it is kept at 0.
        if self._noise_component!=None:
            dummy=[]
            for i in range(len(self._num_users_store)):
                temporary= self._num_users_store_original[i]+ self._noise_component.apply(**{&#39;value&#39;:self._num_users_store_original[i]})
                if temporary&gt;=0:
                    dummy.append(temporary)
                else:
                    dummy.append(self._num_users_store_original[i])
        
            self._num_users_store=dummy
        #self.num_users=self._initial_users
        
        if use_difference:
            self._num_users_store_original=[self._initial_users]+np.diff(self._num_users_store_original).tolist()
        
        self._num_users_store=copy.deepcopy(self._num_users_store_original)

        
        self.max_iterations=num_steps
    
    def execute(self)-&gt;int:
        
        users=super(UserGrowth_Spaced,self).execute()
        
        return users
    
    
    def reset(self)-&gt;None:
        &#34;&#34;&#34;
        recalculates the noise component and sets the user counter back to 0
        &#34;&#34;&#34;
        
        self._num_users_store=copy.deepcopy(self._num_users_store_original)
        
        #applies the noise addon. If a value is below 0, then it is kept at 0.
        if self._noise_component!=None:
            dummy=[]
            for i in range(len(self._num_users_store)):
                temporary= self._num_users_store_original[i]+ self._noise_component.apply(**{&#39;value&#39;:self._num_users_store_original[i]})
                if temporary&gt;=0:
                    dummy.append(temporary)
                else:
                    dummy.append(self._num_users_store_original[i])
        
            self._num_users_store=dummy
            
        self.iteration=0
        self.num_users=self._initial_users
        
        
    def get_users_store(self)-&gt;List:
        &#34;&#34;&#34;
        Returns the list that contains the pre-calculated number of users. This is a
        private variable.

        &#34;&#34;&#34;
        
        return self._num_users_store</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth">UserGrowth</a></li>
<li>baseclasses.Controller</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Spaced.execute"><code class="name flex">
<span>def <span class="ident">execute</span></span>(<span>self) ‑> int</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def execute(self)-&gt;int:
    
    users=super(UserGrowth_Spaced,self).execute()
    
    return users</code></pre>
</details>
</dd>
<dt id="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Spaced.get_users_store"><code class="name flex">
<span>def <span class="ident">get_users_store</span></span>(<span>self) ‑> List</span>
</code></dt>
<dd>
<div class="desc"><p>Returns the list that contains the pre-calculated number of users. This is a
private variable.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_users_store(self)-&gt;List:
    &#34;&#34;&#34;
    Returns the list that contains the pre-calculated number of users. This is a
    private variable.

    &#34;&#34;&#34;
    
    return self._num_users_store</code></pre>
</details>
</dd>
<dt id="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Spaced.reset"><code class="name flex">
<span>def <span class="ident">reset</span></span>(<span>self) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>recalculates the noise component and sets the user counter back to 0</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def reset(self)-&gt;None:
    &#34;&#34;&#34;
    recalculates the noise component and sets the user counter back to 0
    &#34;&#34;&#34;
    
    self._num_users_store=copy.deepcopy(self._num_users_store_original)
    
    #applies the noise addon. If a value is below 0, then it is kept at 0.
    if self._noise_component!=None:
        dummy=[]
        for i in range(len(self._num_users_store)):
            temporary= self._num_users_store_original[i]+ self._noise_component.apply(**{&#39;value&#39;:self._num_users_store_original[i]})
            if temporary&gt;=0:
                dummy.append(temporary)
            else:
                dummy.append(self._num_users_store_original[i])
    
        self._num_users_store=dummy
        
    self.iteration=0
    self.num_users=self._initial_users</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Stochastic"><code class="flex name class">
<span>class <span class="ident">UserGrowth_Stochastic</span></span>
<span>(</span><span>user_growth_distribution: <module 'scipy.stats' from '/Users/stylianoskampakis/opt/anaconda3/envs/kalgera3/lib/python3.9/site-packages/scipy/stats/__init__.py'> = &lt;scipy.stats._discrete_distns.poisson_gen object&gt;, user_growth_dist_parameters: Union[List, Dict] = [{'mu': 1000}], add_to_userbase: bool = False, num_initial_users: int = 0)</span>
</code></dt>
<dd>
<div class="desc"><p>UserGrowth that simply samples a random value during each iteration.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>user_growth_distribution</code></strong> :&ensp;<code>scipy.stats</code>, optional</dt>
<dd>The distribution to sample values from. The default is scipy.stats.poisson.</dd>
<dt><strong><code>user_growth_dist_parameters</code></strong> :&ensp;<code>Union[List,Dict]</code>, optional</dt>
<dd>Either a list of dictionaries, or a dictionary. If a list is provided
then the parameters change at every iteration. The default is [{'mu':1000}].</dd>
<dt><strong><code>add_to_user_base</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>&nbsp;</dd>
</dl>
<p>If False, then the actual number of users is sampled from the distribution. If True,
then this number of users is added to the total number of users. Default is false.</p>
<dl>
<dt><strong><code>num_initial_users</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>&nbsp;</dd>
</dl>
<p>The number of initial users. Default is 0</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class UserGrowth_Stochastic(UserGrowth):
    &#34;&#34;&#34;
    UserGrowth that simply samples a random value during each iteration.
    
    &#34;&#34;&#34;
    
    
    def __init__(self,user_growth_distribution:scipy.stats=scipy.stats.poisson,
                 user_growth_dist_parameters:Union[List,Dict]=[{&#39;mu&#39;:1000}],add_to_userbase:bool=False,
                 num_initial_users:int=0):
        &#34;&#34;&#34;
        

        Parameters
        ----------
        user_growth_distribution : scipy.stats, optional
            The distribution to sample values from. The default is scipy.stats.poisson.
        
        user_growth_dist_parameters : Union[List,Dict], optional
            Either a list of dictionaries, or a dictionary. If a list is provided
            then the parameters change at every iteration. The default is [{&#39;mu&#39;:1000}].
        
        add_to_user_base : bool, optional 
        If False, then the actual number of users is sampled from the distribution. If True,
        then this number of users is added to the total number of users. Default is false.
        
        num_initial_users : int, optional
        The number of initial users. Default is 0
        &#34;&#34;&#34;
        
        super(UserGrowth_Stochastic,self).__init__()

        
        self.user_growth_distribution=user_growth_distribution
        self.user_growth_dist_parameters=user_growth_dist_parameters
        self.num_users=num_initial_users
        self.add_to_userbase=add_to_userbase
        
        
        return None
    
    def execute(self):
        seed=int(int(time.time())*np.random.rand())
        if type(self.user_growth_dist_parameters)==list:
            try:
                params=self.user_growth_dist_parameters[self.iteration]
            except:
                warnings.warn(&#34;Iterations for UserGrowth stochastic exhausted. Simply using the last item on the list of parameters.&#34;)
                params=self.user_growth_dist_parameters[-1]
        else:
            params=self.user_growth_dist_parameters
            
        self._active_params=params
        value=self.user_growth_distribution.rvs(size=1,random_state=seed,**params)[0]
        
        if self.add_to_userbase:
            self.num_users+=value
        else:
            self.num_users=value
        
        self.iteration+=1
        return self.num_users</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth">UserGrowth</a></li>
<li>baseclasses.Controller</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Stochastic.execute"><code class="name flex">
<span>def <span class="ident">execute</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def execute(self):
    seed=int(int(time.time())*np.random.rand())
    if type(self.user_growth_dist_parameters)==list:
        try:
            params=self.user_growth_dist_parameters[self.iteration]
        except:
            warnings.warn(&#34;Iterations for UserGrowth stochastic exhausted. Simply using the last item on the list of parameters.&#34;)
            params=self.user_growth_dist_parameters[-1]
    else:
        params=self.user_growth_dist_parameters
        
    self._active_params=params
    value=self.user_growth_distribution.rvs(size=1,random_state=seed,**params)[0]
    
    if self.add_to_userbase:
        self.num_users+=value
    else:
        self.num_users=value
    
    self.iteration+=1
    return self.num_users</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth">UserGrowth</a></b></code>:
<ul class="hlist">
<li><code><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth.reset" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth.reset">reset</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="src.TokenLab.simulationcomponents" href="index.html">src.TokenLab.simulationcomponents</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth">UserGrowth</a></code></h4>
<ul class="">
<li><code><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth.execute" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth.execute">execute</a></code></li>
<li><code><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth.get_num_users" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth.get_num_users">get_num_users</a></code></li>
<li><code><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth.reset" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth.reset">reset</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Constant" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Constant">UserGrowth_Constant</a></code></h4>
</li>
<li>
<h4><code><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Spaced" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Spaced">UserGrowth_Spaced</a></code></h4>
<ul class="">
<li><code><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Spaced.execute" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Spaced.execute">execute</a></code></li>
<li><code><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Spaced.get_users_store" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Spaced.get_users_store">get_users_store</a></code></li>
<li><code><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Spaced.reset" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Spaced.reset">reset</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Stochastic" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Stochastic">UserGrowth_Stochastic</a></code></h4>
<ul class="">
<li><code><a title="src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Stochastic.execute" href="#src.TokenLab.simulationcomponents.usergrowthclasses.UserGrowth_Stochastic.execute">execute</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>